repto/U6NjLvxYZL3XdjVDlrqH
ii.about.2014
1396258820
51t
lenina,1
vit01
Re: первопоинт

посмотри коды клиентов и сервров из 5 строчек :)

синхронизация - это запрос у каждой подписанной эхи всех сообщений, и загрузка себе тех, которых у тебя нет. порядок следования сообщений в эхе, понятное дело, будет у каждого разным, но сами сообщения - все те же самые. в фидо был такой хитрый роутинг, что мог прийти ответ, и только назавтра - исходный вопрос :)

И ещё, важно. У НАС ВСЯ СИНХРОНИЗАЦИЯ ОДНОСТОРОННЯЯ! чисто теоретически, сначала один может запросить и нафетчить, а потом послать через /z/in, но это две разные синхронизации. если кто-то берёт с одного нода, это не значит, что он будет каким-то образом что-то отдавать (будь то z/in или обратный фетч). Они могут, как тут кто-то говорил, вообще по кругу друг с друга фетчить - 1 со 2, 2 с 3, 3 с 4, 4 с 1.

И что значит трёт? например, я подписан на два нода. на ноде 1 Вася написал сообщение, на ноде 2 Петя написал сообщение. я с обоими синхронизировался - что и у кого я должен затереть? и как тогда вообще узнать, мне надо скачать или затереть сообщения Васи и Пети???